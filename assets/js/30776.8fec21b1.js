/*! For license information please see 30776.8fec21b1.js.LICENSE.txt */
(self.webpackChunkchzhshch_blog=self.webpackChunkchzhshch_blog||[]).push([[30776],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),f=c(n),m=r,p=f["".concat(l,".").concat(m)]||f[m]||d[m]||i;return n?a.createElement(p,s(s({ref:t},u),{},{components:n})):a.createElement(p,s({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=f;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var c=2;c<i;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},85616:(e,t,n)=>{(()=>{"use strict";var t={d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{Audio:()=>_,AudioPlayer:()=>ee,AudioPlayerControlSprite:()=>g,PlayListContext:()=>V,PlayListPanel:()=>se,PlayListProvider:()=>ae});const r=n(85893),i=n(67294);function s(...e){const t=[];for(const n of e)if(n)if("string"!=typeof n)for(const e in n)n[e]&&t.push(e);else t.push(n);return t.join(" ")}const o="paused",l="playing",c={all:"all",none:"none",one:"one"},{none:u,all:d,one:f}=c,m=[u,d,f],p={activeIndex:0,isMuted:!1,isShuffleOn:!1,isTrackListOpen:!0,repeatingState:u};function h(e){const{className:t,imageId:n}=e;return(0,r.jsx)("svg",{className:t,children:(0,r.jsx)("use",{xlinkHref:n})})}const v="audio-player-icon-id-prefix-",x="#5a5a5a",y="0 0 24 24",b="http://www.w3.org/2000/svg";function g(){return(0,r.jsxs)("svg",{className:"e05e18",children:[(0,r.jsx)("symbol",{id:v+"button-pause-playlist",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"})}),(0,r.jsx)("symbol",{id:v+"button-pause",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M14 19h4V5h-4M6 19h4V5H6v14z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-play",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M8 5.14v14l11-7-11-7z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-track-list",viewBox:"-1 -1 23 23",xmlns:b,children:(0,r.jsx)("path",{d:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-prev-track",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-next-track",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-repeat",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-repeat-one",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-shuffle",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-sound-off",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-sound-on",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:x})}),(0,r.jsx)("symbol",{id:v+"button-download",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fill:x})}),(0,r.jsx)("symbol",{id:v+"play-list-menu",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z",fill:x})}),(0,r.jsx)("symbol",{id:v+"play-list-plus",viewBox:"-1 -1 23 23",xmlns:b,children:(0,r.jsx)("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z",fill:x})}),(0,r.jsx)("symbol",{id:v+"trash-bin",viewBox:y,xmlns:b,children:(0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:x})})]})}const k="span",j="ac7b4a";function C(e){const{onClick:t,imageId:n,isActive:a,ariaLabel:i,className:o,tag:l,hasBorder:c,isHideForNarrow:u}=e,d=s("bff2b5",{a45085:a,fde0b7:c,ab5ee0:u},o),f=(0,r.jsx)(h,{className:j,imageId:"#"+v+n});return"div"===l?(0,r.jsx)("div",{className:d,children:f}):l===k?(0,r.jsx)("span",{className:d,children:f}):(0,r.jsx)("button",{"aria-label":i,className:d,onClick:t,type:"button",children:(0,r.jsx)(h,{className:j,imageId:"#"+v+n})})}function L(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}function w(e){const{currentTime:t,fullTime:n,className:a}=e,i=s("c7b08a",a),o=function(e,t){const{minutes:n,seconds:a}=L(e),{minutes:r,seconds:i}=L(t);return`${n}:${a} / ${r}:${i}`}(t,n);return(0,r.jsx)("span",{className:i,children:o})}function N(e){const[t,n]=(0,i.useState)(!1),a=(0,i.useRef)(null),{className:o,isDisable:l,progress:c,onChange:u,ariaLabel:d,isHideForNarrow:f}=e,m=s("e0b58b",o,{d6d969:t,c0ae57:!0===l,e13c85:f});return(0,r.jsxs)("div",{className:m,onPointerDown:function(){n(!0)},onPointerUp:function(){n(!1)},children:[(0,r.jsx)("div",{className:"cc7be8",children:(0,r.jsx)("div",{className:"c44fc5",style:{transform:`translateZ(0) scaleX(${c||0})`}})}),(0,r.jsx)("div",{className:"eee1d0",children:(0,r.jsx)("div",{className:"f79532",style:{left:100*c+"%"}})}),(0,r.jsx)("input",{"aria-label":d,className:"f9d0be",defaultValue:0,max:1,min:0,onChange:function(){u(function(){const{current:e}=a;return e?Number.parseFloat(e.value):0}())},ref:a,step:.001,type:"range"})]})}const S=["nexttrack","pause","play","previoustrack","seekbackward","seekforward"];function P(e,t){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator){navigator.mediaSession.metadata=null;for(const e of S)navigator.mediaSession.setActionHandler(e,null)}}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(const n of S)navigator.mediaSession.setActionHandler(n,t[n]||null)}function M(e){return function(){e.currentTime=0,e.addEventListener("canplay",(function t(){e.removeEventListener("canplay",t,!1),e.play().then((()=>{e.pause(),e.currentTime=0}))}),!1)}}function T(e,t){return e.src===t.src}function O(e){const{src:t,mediaMetadata:n,content:a}=e;let r={src:t};return n&&(r={...r,mediaMetadata:n}),a&&(r={...r,content:a}),r}const I=function(){const e={name:"",trackList:[]};return{createPlayList:()=>e,deletePlayList:e=>new Error("deletePlayList: overwrite me"),getAllPlayLists:()=>[e],getTrackById:e=>null,isInitialized:!1,removeTrackById:e=>new Error("removeTrack: overwrite me"),updatePlayList:(e,t)=>new Error("updatePlayList: overwrite me")}}(),V=(0,i.createContext)(I);function H(){return Math.round(1e6*Math.random()).toString(16)}function B(){return Math.random()>.5?1:-1}const E="Play list",z="No name playlist";function A(e){const{className:t,track:n}=e,a=s("cf10f9",t),o=(0,i.useContext)(V),[l,c]=(0,i.useState)(0),{getAllPlayLists:u,updatePlayList:d,removeTrackById:f,isInitialized:m}=o,p=u(),h="-1",v=(0,i.useCallback)((function(e){const t=e.currentTarget,a=Number.parseInt(t.value,10),r=p[a],{src:i,mediaMetadata:s,content:o,preload:u,duration:m}=n;if(c(l+1),!r)return;const v=r.trackList.find((e=>T(e,n)));if(v)return void f(v.id);let x={id:H(),src:i};s&&(x={...x,mediaMetadata:s}),"string"==typeof o&&(x={...x,content:o}),"string"==typeof u&&(x={...x,preload:u}),"number"==typeof m&&(x={...x,duration:m});const y=[x,...r.trackList];d(r,{...r,trackList:y}),t.value=h}),[p,d,n,h,f,c,l]);return m?(0,r.jsxs)("label",{className:"b8f0f4",children:[(0,r.jsx)(C,{ariaLabel:"play list menu",className:a,imageId:"play-list-menu"}),(0,r.jsxs)("select",{className:"f2a1b7",defaultValue:h,onChange:v,children:[(0,r.jsx)("option",{disabled:!0,value:h,children:"\xa0"}),p.map(((e,t)=>{const a=e.trackList.find((e=>T(e,n))),i=e.name.trim()||z,s=(a?"[\u2713]":"[_]")+" "+i;return(0,r.jsx)("option",{value:t,children:s},String(t)+i)}))]},l)]}):null}function _(e){const{className:t,downloadFileName:n,duration:a=0,mediaMetadata:c,onDidMount:u,preload:d="auto",src:f,useRepeatButton:m=!1}=e,p=(0,i.useRef)(null),[h,v]=(0,i.useState)(0),[x,y]=(0,i.useState)(a),[b,g]=(0,i.useState)(1),[j,L]=(0,i.useState)(!1),[S,T]=(0,i.useState)(o),[O,I]=(0,i.useState)(!1),V=j||0===b?"button-sound-off":"button-sound-on";function H(){const e=p.current;if(e)return e;throw new Error("Audio tag is not exists")}function B(){H().play()}function E(){H().currentTime+=10}function z(){H().currentTime-=10}(0,i.useEffect)((()=>{const e=H();u&&u(e)}),[u]);const _=c?{mediaMetadata:c,src:f}:{src:f};return(0,r.jsxs)("div",{className:s("ce6c17",t),children:[(0,r.jsx)("audio",{className:"e22549",onEnded:function(){if(H().currentTime=0,O)return v(0),void B();T(o),v(0)},onLoadedMetadata:function(){const e=H();v(0),y(e.duration),e.volume=b},onPause:function(){T(o)},onPlay:function(){T(l);const e={seekbackward:z,seekforward:E,stop:M(H())};P(c||{title:f},e)},onTimeUpdate:function(){const e=H();v(e.currentTime)},onVolumeChange:function(){const e=H();L(e.muted),g(e.volume)},preload:d,ref:p,src:f,volume:b,children:(0,r.jsx)("track",{kind:"captions",src:f})}),S===l?(0,r.jsx)(C,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){H().pause()}}):(0,r.jsx)(C,{ariaLabel:"play",imageId:"button-play",onClick:B}),m?(0,r.jsx)(C,{ariaLabel:"repeat",imageId:"button-repeat",isActive:O,onClick:function(){I(!O)}}):null,(0,r.jsx)(w,{className:"e154e9",currentTime:h,fullTime:x}),(0,r.jsx)(N,{ariaLabel:"progress bar",onChange:function(e){const t=H(),n=e*x;t.currentTime=n,v(n)},progress:h/x}),(0,r.jsx)(C,{ariaLabel:"switch-sound",imageId:V,isHideForNarrow:!0,onClick:function(){const e=H(),t=!e.muted;e.muted=t,L(t)}}),(0,r.jsx)(N,{ariaLabel:"volume bar",className:"cae029",isHideForNarrow:!0,onChange:function(e){H().volume=e,g(e)},progress:b}),(0,r.jsx)("a",{"aria-label":"download",className:"a3d9e7",download:n||!0,href:f,children:(0,r.jsx)(C,{ariaLabel:"download",imageId:"button-download",tag:k})}),(0,r.jsx)(A,{track:_})]})}function F(e,t,n){const a=(t+n)%e;return a<0?a+e:a}function R(e,t,n){if(t-e<1)return e;const a=e+Math.floor(Math.random()*(t-e));return n&&n.includes(a)?R(e,t,n):a}const D="static",{size:$}={size:48};function W(e){const{size:t,lineWidth:n,arcColor:a,circleColor:i,isShow:o,wrapperWidth:l,wrapperHeight:c,position:u,wrapperColor:d,wrapperPadding:f,className:m}=e;if(!1===o)return null;const p=u||D,h=t||$,v={borderColor:i,borderTopColor:a,borderWidth:n,height:h,width:h},x={backgroundColor:d,height:c,minHeight:h,minWidth:h,padding:f,position:p,width:l};return(0,r.jsx)("div",{className:s("c82f2f",m,{da10e0:p===D}),style:x,children:(0,r.jsx)("div",{className:"d9b0ab",style:v})})}function U(e){const{trackCurrentTime:t,trackFullTime:n,onClickMuteVolume:a,isMuted:i,trackVolume:s,onChangeProgressBar:o,onChangeVolumeBar:l}=e,c=i||0===s?"button-sound-off":"button-sound-on",u=0!==n;return(0,r.jsxs)("div",{className:"bd925c",children:[(0,r.jsx)(w,{className:"df7adc",currentTime:t,fullTime:n}),(0,r.jsx)(N,{ariaLabel:"progress bar",isDisable:!u,onChange:o,progress:u?t/n:0}),(0,r.jsx)(C,{ariaLabel:"switch-sound",className:"",imageId:c,isHideForNarrow:!0,onClick:a}),(0,r.jsx)(N,{ariaLabel:"volume bar",className:"da6e9c",isHideForNarrow:!0,onChange:l,progress:s})]})}const{one:Z,all:J}=c;function X(e){const{onClickShuffle:t,onClickRepeat:n,onClickPrevTrack:a,onClickPlay:i,onClickNextTrack:s,onClickTrackList:o,playingState:c,isShuffleOn:u,repeatingState:d,isTrackListOpen:f}=e,m=c===l;return(0,r.jsxs)("div",{className:"b31ddf",children:[(0,r.jsx)(C,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:u,onClick:t}),(0,r.jsx)(C,{ariaLabel:"repeat",imageId:d===Z?"button-repeat-one":"button-repeat",isActive:d===Z||d===J,onClick:n}),(0,r.jsx)(C,{ariaLabel:"prev",imageId:"button-prev-track",onClick:a}),m?(0,r.jsx)(C,{ariaLabel:"pause",imageId:"button-pause",onClick:i}):(0,r.jsx)(C,{ariaLabel:"play",imageId:"button-play",onClick:i}),(0,r.jsx)(C,{ariaLabel:"next",imageId:"button-next-track",onClick:s}),(0,r.jsx)(C,{ariaLabel:"track-list",imageId:"button-track-list",isActive:f,onClick:o})]})}function Y(e){const{onClickShuffle:t,onClickRepeat:n,onClickPrevTrack:a,onClickPlay:i,onClickNextTrack:s,onClickTrackList:o,onClickMuteVolume:l,onChangeProgressBar:c,onChangeVolumeBar:u,isMuted:d,playingState:f,isShuffleOn:m,repeatingState:p,isTrackListOpen:h,trackCurrentTime:v,trackVolume:x,trackFullTime:y,isLoading:b}=e;return(0,r.jsxs)("div",{className:"fa9e1a",children:[(0,r.jsx)(W,{className:"bcf8d9",isShow:b,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26}),(0,r.jsx)(X,{isShuffleOn:m,isTrackListOpen:h,onClickNextTrack:s,onClickPlay:i,onClickPrevTrack:a,onClickRepeat:n,onClickShuffle:t,onClickTrackList:o,playingState:f,repeatingState:p}),(0,r.jsx)(U,{isMuted:d,onChangeProgressBar:c,onChangeVolumeBar:u,onClickMuteVolume:l,trackCurrentTime:v,trackFullTime:y,trackVolume:x})]})}const q="bbcf1f",G="a7a82b";function K(e){const{isCurrentTrack:t,activeIndex:n,track:a,playingState:o,onClickPlay:c,setActiveIndex:u,isLoading:d,playByIndex:f}=e,{src:m,duration:p=0,preload:x="auto"}=a,[y,b]=(0,i.useState)(p),{minutes:g,seconds:k}=L(y),j=(0,i.useRef)(null),C=function(e){const{content:t,mediaMetadata:n,src:a}=e;if(t)return t;const r=n&&n.title;if(r)return r;const i=a.split("/").pop();if(!i)return"";const s=i.lastIndexOf(".");return s>0?i.slice(0,s):i}(a),w=(0,r.jsx)(W,{isShow:d,lineWidth:4,position:"absolute",size:30,wrapperPadding:0}),N=s("b48888",{b28ca0:t});function S(){u(n)}function P(){f(n)}return(0,r.jsxs)("li",{className:N,children:[(0,r.jsx)("audio",{className:"b3c7d7",muted:!0,onLoadedMetadata:function(){const e=function(){const e=j.current;if(e)return e;throw new Error("Audio tag is not exists")}();b(e.duration)},preload:x,ref:j,src:m}),function(){const e="#"+v+"button-play",n="play";return o===l?t?(0,r.jsxs)("button",{"aria-label":n,className:q,onClick:c,type:"button",children:[w,(0,r.jsx)(h,{className:"ef10a4",imageId:"#audio-player-icon-id-prefix-button-pause-playlist"})]}):(0,r.jsx)("button",{"aria-label":n,className:q,onClick:S,type:"button",children:(0,r.jsx)(h,{className:G,imageId:e})}):t?(0,r.jsxs)("button",{"aria-label":n,className:q,onClick:c,type:"button",children:[w,(0,r.jsx)(h,{className:G,imageId:e})]}):(0,r.jsx)("button",{"aria-label":n,className:q,onClick:P,type:"button",children:(0,r.jsx)(h,{className:G,imageId:e})})}(),(0,r.jsx)("div",{className:"c4d018",children:(0,r.jsx)("div",{className:"bef821",children:C})}),(0,r.jsx)("div",{className:"bee42b",children:`${g}:${k}`}),(0,r.jsx)(A,{className:"c0f54f",track:a})]})}function Q(e){const{activeIndex:t,trackList:n,playingState:a,onClickPlay:i,setActiveIndex:s,isLoading:o,playByIndex:l}=e;return(0,r.jsx)("ul",{className:"d6f4a6",children:n.map(((e,n)=>{const c=t===n;return(0,r.jsx)(K,{activeIndex:n,isCurrentTrack:c,isLoading:!!o&&c,onClickPlay:i,playByIndex:l,playingState:a,setActiveIndex:s,track:e},e.src)}))})}function ee(e){var t;const{defaultState:n,className:a,onDidMount:s,trackList:u}=e,d=function(e){return e?{...p,...e}:p}(n),f=(null===(t=u[0])||void 0===t?void 0:t.duration)||0,[h,v]=(0,i.useState)(0),[x,y]=(0,i.useState)(f),[b,g]=(0,i.useState)(1),[k,j]=(0,i.useState)(d.isMuted),[C,L]=(0,i.useState)(o),[w,N]=(0,i.useState)(d.activeIndex),[S,T]=(0,i.useState)(d.isShuffleOn),[O,I]=(0,i.useState)(d.repeatingState),[V,H]=(0,i.useState)(d.isTrackListOpen),[B,E]=(0,i.useState)(!1),[z,A]=(0,i.useState)(!1),_=(0,i.useRef)(null);function D(){return _.current||(console.error("Audio tag is not exists"),document.createElement("audio"))}function $(){return u[w]||null}function W(e){N(e),E(!0),v(0),y(0),q()}function U(){W(F(u.length,w,1))}function Z(){W(F(u.length,w,-1))}function J(){D().currentTime+=10}function X(){D().currentTime-=10}function q(){const e=$();if(!e)return;const{mediaMetadata:t}=e;t&&P(t,{nexttrack:U,previoustrack:Z,seekbackward:X,seekforward:J,stop:M(D())})}function G(){const e=$();return e?e.src:""}function K(){const e=D();e.paused?e.play():e.pause()}return(0,i.useEffect)((()=>{const e=D();s&&s(e)}),[s]),(0,r.jsxs)("div",{className:a||"",children:[(0,r.jsx)("audio",{autoPlay:C===l,className:"e2ec9c",muted:k,onCanPlay:function(){z&&(A(!1),K())},onEnded:function(){const{one:e,all:t,none:n}=c,a=u.length;if(A(!0),a<=1)return N(0),void v(0);if(S)W(R(0,a,[w]));else{if(O===e)return A(!1),void K();O!==t?w<a-1?U():(A(!1),W(0)):U()}},onLoadedMetadata:function(){const e=D();E(!1),y(e.duration),e.volume=b},onPause:function(){L(o)},onPlay:function(){L(l),q()},onTimeUpdate:function(){const e=D();v(e.currentTime)},onVolumeChange:function(){const e=D();j(e.muted),g(e.volume)},preload:"metadata",ref:_,src:G(),volume:b,children:(0,r.jsx)("track",{kind:"captions",src:G()})},"audio-tag"),(0,r.jsx)(Y,{isLoading:B,isMuted:k,isShuffleOn:S,isTrackListOpen:V,onChangeProgressBar:function(e){D().currentTime=e*x},onChangeVolumeBar:function(e){D().volume=e},onClickMuteVolume:function(){const e=D(),t=!e.muted;e.muted=t,j(t)},onClickNextTrack:U,onClickPlay:K,onClickPrevTrack:Z,onClickRepeat:function(){const e=(m.indexOf(O)+1)%m.length;I(m[e])},onClickShuffle:function(){T(!S)},onClickTrackList:function(){H(!V)},playingState:C,repeatingState:O,trackCurrentTime:h,trackFullTime:x,trackVolume:b}),V?(0,r.jsx)(Q,{activeIndex:w,isLoading:B,onClickPlay:K,playByIndex:function(e){N(e),E(!0);const t=D();t.addEventListener("canplay",(function e(){E(!1),t.removeEventListener("canplay",e,!1),t.play()}),!1)},playingState:C,setActiveIndex:W,trackList:u}):null]})}const te="react-audio-player-play-list-storage-key-v.1.0.0";function ne(){return[{name:E,trackList:[]}]}function ae(e){const{children:t}=e,[n,a]=(0,i.useState)(function(){if("undefined"==typeof localStorage)return ne();const e=localStorage.getItem(te);return e?JSON.parse(e):ne()}()),s=(0,i.useCallback)((function(e){const t=n.length;for(let a=0;a<t;a+=1){const{trackList:t}=n[a],r=t.length;for(let n=0;n<r;n+=1){const a=t[n];if(a.id===e)return a}}return null}),[n]),o=(0,i.useCallback)((function(){const e={name:E+" "+Array.from({length:4}).map(H).sort(B).join("").slice(0,4),trackList:[]},t=[...n,e];return a(t),e}),[n,a]),l=(0,i.useCallback)((function(){return[...n]}),[n]),c=(0,i.useCallback)((function(e,t){const r=[...n],i=r.indexOf(e);return i<0?new Error("Old Play List is not exists."):(r[i]=t,a(r),t)}),[n,a]),u=(0,i.useCallback)((function(e){const t=[...n],r=t.indexOf(e);return r<0?new Error("Play List is not exists."):(t.splice(r,1),a(t),null)}),[n,a]),d=(0,i.useCallback)((function(e){const t=n.length;for(let a=0;a<t;a+=1){const t=n[a],{trackList:r}=t,i=r.length;for(let n=0;n<i;n+=1)if(r[n].id===e){const e=[...r];return e.splice(n,1),c(t,{...t,trackList:e}),null}}return new Error("Track is not exists.")}),[n,c]),f=(0,i.useMemo)((()=>({createPlayList:o,deletePlayList:u,getAllPlayLists:l,getTrackById:s,isInitialized:!0,removeTrackById:d,updatePlayList:c})),[o,l,c,u,d,s]);return(0,i.useEffect)((()=>{var e;e=n,"undefined"!=typeof localStorage&&localStorage.setItem(te,JSON.stringify(e))}),[n]),(0,r.jsx)(V.Provider,{value:f,children:t})}function re(e){const{playList:t}=e,{trackList:n,name:a}=t,s=(0,i.useRef)(null),o=(0,i.useContext)(V),{updatePlayList:l,deletePlayList:c,getAllPlayLists:u}=o,d=u(),f=n.length>0,m=(0,i.useCallback)((function(){l(t,{name:(s.current||(()=>{throw new Error("Can not get input of play list name")})()).value.trim(),trackList:n})}),[l,t,n]),p=(0,i.useCallback)((function(){c(t)}),[c,t]),h=d.length>1&&0===n.length?"a470ec":"e85b98";return(0,r.jsxs)("div",{className:"aec634",children:[(0,r.jsxs)("div",{className:"fe1637",children:[(0,r.jsx)("input",{className:"f500e1",defaultValue:a,onBlur:m,placeholder:z,ref:s,type:"text"}),(0,r.jsx)(C,{ariaLabel:"delete",className:h,imageId:"trash-bin",onClick:p})]}),f?(0,r.jsx)(ee,{trackList:n.map(O)}):(0,r.jsx)("p",{className:"ecef14",children:"\u2205"})]})}function ie(e,t){return(0,r.jsx)(re,{playList:e},e.name+"-"+String(t))}function se(){const e=(0,i.useContext)(V),{createPlayList:t,getAllPlayLists:n}=e,a=n();return(0,r.jsxs)("div",{className:"a7ad0a",children:[a.map(ie),(0,r.jsx)("div",{className:"b59941",children:(0,r.jsx)(C,{ariaLabel:"add play list",className:"dd564f",imageId:"play-list-plus",onClick:t})})]})}e.exports=a})()},75251:(e,t,n)=>{"use strict";n(27418);var a=n(67294),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;r=i("react.element"),t.Fragment=i("react.fragment")}var s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,a)&&!l.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:i,_owner:s.current}}t.jsx=c,t.jsxs=c},85893:(e,t,n)=>{"use strict";e.exports=n(75251)}}]);